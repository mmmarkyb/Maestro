function buildCircleArray(){for(var e=0;numCircles>e;e++){for(var t=Math.floor(Math.random()*(colours.length-1+1))+1,i=Math.floor(Math.random()*(canvas.width-0+1))+0,a=Math.floor(Math.random()*(canvas.height-0+1))+0,n=Math.floor(Math.random()*(maxSize-minSize+1))+minSize,o=(Math.floor(Math.random()*(maxSize-minSize+1))+minSpeed)/10,r=(Math.floor(Math.random()*(maxSize-minSize+1))+minSpeed)/10,c=c;0==o||0==r;)o=(Math.floor(Math.random()*(maxSize-minSize+1))+minSpeed)/10,r=(Math.floor(Math.random()*(maxSize-minSize+1))+minSpeed)/10;var s={color:t,left:i,top:a,size:n,leftSpeed:o,topSpeed:r,expandState:c};circles.push(s)}}function build(){for(var e=0;e<circles.length;e++){var t=circles[e];context.fillStyle=colours[t.color-1],context.beginPath(),t.left>canvas.width+t.size?(t.left=0-t.size,context.arc(t.left,t.top,t.size,0,2*Math.PI,!1)):t.left<0-t.size?(t.left=canvas.width+t.size,context.arc(t.left,t.top,t.size,0,2*Math.PI,!1)):(t.left=t.left+t.leftSpeed,context.arc(t.left,t.top,t.size,0,2*Math.PI,!1)),t.top>canvas.height+t.size?(t.top=0-t.size,context.arc(t.left,t.top,t.size,0,2*Math.PI,!1)):t.top<0-t.size?(t.top=canvas.height+t.size,context.arc(t.left,t.top,t.size,0,2*Math.PI,!1)):(t.top=t.top+t.topSpeed,t.size!=maxSize&&t.size!=minSize&&0==t.expandState?t.size=currentCirclesize+.1:t.size!=maxSize&&t.size!=minSize&&1==t.expandState?t.size=currentCirclesize-.1:t.size==maxSize&&1==t.expandState?(t.expandState=!1,t.size=t.size-.1):t.size==maxSize&&0==t.expandState&&(t.expandState=!0,t.size=t.size+.1),context.arc(t.left,t.top,t.size,0,2*Math.PI,!1)),context.closePath(),context.fill(),context.ellipse}}function animate(){var e=document.getElementById("backAnimation"),t=e.getContext("2d");t.clearRect(0,0,e.width,e.height),xVal++,build(),requestAnimFrame(function(){animate()})}var circles=[],canvas=document.getElementById("backAnimation"),context=canvas.getContext("2d"),opacity=.5,colours=["rgba(255,89,94,"+opacity+")","rgba(27,152,224,"+opacity+")","rgba(138,201,38,"+opacity+")"],minSize=1,maxSize=10,numCircles=150,minSpeed=-4,maxSpeed=2,expandState=!0,xVal=0;window.requestAnimFrame=function(e){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),window.onload=function(){canvas.width=window.innerWidth,canvas.height=window.innerHeight,buildCircleArray(),animate()},window.onresize=function(){canvas.width=window.innerWidth,canvas.height=window.innerHeight,animate()};